# æ¤¿å¤å†›å›¢å®˜ç½‘

![AION2](https://img.shields.io/badge/AION2-å¤©æ—-6b9fd8)
![React](https://img.shields.io/badge/React-19.0-61dafb)
![TypeScript](https://img.shields.io/badge/TypeScript-5.0-3178c6)
![Vite](https://img.shields.io/badge/Vite-6.0-646cff)

> æ„¿å¦‚æ¤¿æ ‘å¸¸é’ï¼Œå…±åº¦ç››å¤æ—¶å…‰

AION2 å¤©æ— Â· å¸ŒåŸƒå°”æœåŠ¡å™¨ã€Œæ¤¿å¤ã€å†›å›¢å®˜æ–¹ç½‘ç«™ã€‚ä¸€ä¸ªæ¸©æš–çš„ PVE ä¼‘é—²å†›å›¢ï¼Œä¸“æ³¨äºå‰¯æœ¬å¼€è’ã€æ—¥å¸¸é™ªä¼´ã€å›¢ç»“äº’åŠ©ã€‚

## âœ¨ é¡¹ç›®ç‰¹æ€§

- ğŸ® **å†›å›¢å±•ç¤º** - å†›å›¢ä¿¡æ¯ã€æˆå‘˜å±•ç¤ºã€è§’è‰²æ•°æ®å¡ç‰‡
- ğŸ“· **å†›å›¢ç›¸å†Œ** - æ”¯æŒç”¨æˆ·ä¸Šä¼ ï¼Œç®¡ç†å‘˜å®¡æ ¸æœºåˆ¶
- ğŸ‘¥ **æˆå‘˜ç®¡ç†** - å†›å›¢é•¿/ç²¾è‹±/æˆå‘˜åˆ†å±‚å±•ç¤º
- ğŸ” **ç®¡ç†åå°** - å†›å›¢é•¿ç®¡ç†é¢æ¿ï¼Œç›¸å†Œå®¡æ ¸åŠŸèƒ½
- ğŸ“± **å“åº”å¼è®¾è®¡** - æ”¯æŒæ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯è®¿é—®
- ğŸ¨ **å¤©æ—ä¸»é¢˜** - é‡‡ç”¨å¤©æ—è“è‰²è°ƒè®¾è®¡é£æ ¼

## ğŸ›  æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: React 19
- **è¯­è¨€**: TypeScript
- **æ„å»ºå·¥å…·**: Vite 6
- **è·¯ç”±**: React Router v6
- **æ ·å¼**: åŸç”Ÿ CSS + CSS å˜é‡
- **æ•°æ®å­˜å‚¨**: localStorage

## ğŸ“¦ æœ¬åœ°å¼€å‘

### ç¯å¢ƒè¦æ±‚

- Node.js >= 18.0
- npm >= 9.0

### å®‰è£…ä¾èµ–

```bash
npm install
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

å¼€å‘æœåŠ¡å™¨å°†åœ¨ `http://localhost:5173` å¯åŠ¨ã€‚

**å±€åŸŸç½‘è®¿é—®**ï¼šå¼€å‘æœåŠ¡å™¨å·²é…ç½® `host: '0.0.0.0'`ï¼Œå¯é€šè¿‡å±€åŸŸç½‘ IP è®¿é—®ï¼ˆå¦‚ `http://192.168.31.90:5173`ï¼‰ã€‚

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

æ„å»ºäº§ç‰©å°†è¾“å‡ºåˆ° `dist` ç›®å½•ã€‚

### é¢„è§ˆç”Ÿäº§ç‰ˆæœ¬

```bash
npm run preview
```

## ğŸš€ éƒ¨ç½²æ•™ç¨‹ï¼ˆå®å¡”é¢æ¿ï¼‰

### æ–¹å¼ä¸€ï¼šé™æ€æ–‡ä»¶éƒ¨ç½²ï¼ˆæ¨èï¼‰

#### 1. å®‰è£… Node.js ç¯å¢ƒ

1. ç™»å½•å®å¡”é¢æ¿
2. è¿›å…¥ã€Œè½¯ä»¶å•†åº—ã€
3. æœç´¢å¹¶å®‰è£…ã€ŒPM2ç®¡ç†å™¨ã€ï¼ˆä¼šè‡ªåŠ¨å®‰è£… Node.jsï¼‰
4. æˆ–è€…ç›´æ¥å®‰è£…ã€ŒNode.js ç‰ˆæœ¬ç®¡ç†å™¨ã€

#### 2. å‡†å¤‡é¡¹ç›®æ–‡ä»¶

**æ–¹å¼ Aï¼šé€šè¿‡ Gitï¼ˆæ¨èï¼‰**

```bash
# SSH ç™»å½•æœåŠ¡å™¨å
cd /www/wwwroot/
git clone <ä½ çš„ä»“åº“åœ°å€> chunxia-legion
cd chunxia-legion
```

**æ–¹å¼ Bï¼šé€šè¿‡ FTP ä¸Šä¼ **

1. ä½¿ç”¨ FTP å·¥å…·è¿æ¥æœåŠ¡å™¨
2. ä¸Šä¼ æ•´ä¸ªé¡¹ç›®æ–‡ä»¶å¤¹åˆ° `/www/wwwroot/chunxia-legion`

#### 3. å®‰è£…ä¾èµ–å¹¶æ„å»º

```bash
cd /www/wwwroot/chunxia-legion

# å¦‚æœ npm ä¸‹è½½æ…¢ï¼Œå¯ä»¥ä½¿ç”¨å›½å†…é•œåƒ
npm config set registry https://registry.npmmirror.com

# å®‰è£…ä¾èµ–
npm install

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build
```

#### 4. é…ç½® Nginx

1. è¿›å…¥å®å¡”é¢æ¿ã€Œç½‘ç«™ã€
2. ç‚¹å‡»ã€Œæ·»åŠ ç«™ç‚¹ã€
   - åŸŸåï¼šå¡«å†™ä½ çš„åŸŸåï¼ˆå¦‚ `chunxia.example.com`ï¼‰
   - æ ¹ç›®å½•ï¼šé€‰æ‹© `/www/wwwroot/chunxia-legion/dist`
   - PHP ç‰ˆæœ¬ï¼šé€‰æ‹©ã€Œçº¯é™æ€ã€
3. ç‚¹å‡»ç«™ç‚¹è®¾ç½® â†’ ã€Œä¼ªé™æ€ã€ï¼Œæ·»åŠ ä»¥ä¸‹è§„åˆ™ï¼š

```nginx
location / {
    try_files $uri $uri/ /index.html;
}
```

4. ä¿å­˜é…ç½®

#### 5. é…ç½® SSL è¯ä¹¦ï¼ˆå¯é€‰ä½†æ¨èï¼‰

1. åœ¨ç«™ç‚¹è®¾ç½®ä¸­ç‚¹å‡»ã€ŒSSLã€
2. é€‰æ‹©ã€ŒLet's Encryptã€å…è´¹è¯ä¹¦
3. å¡«å†™é‚®ç®±ï¼Œå‹¾é€‰åŸŸå
4. ç‚¹å‡»ã€Œç”³è¯·ã€
5. ç”³è¯·æˆåŠŸåï¼Œå¼€å¯ã€Œå¼ºåˆ¶ HTTPSã€

#### 6. è®¿é—®ç½‘ç«™

ç›´æ¥é€šè¿‡åŸŸåè®¿é—®å³å¯ï¼š`https://chunxia.example.com`

### æ–¹å¼äºŒï¼šPM2 è¿›ç¨‹ç®¡ç†ï¼ˆä¸æ¨èï¼‰

> **æ³¨æ„**ï¼šæœ¬é¡¹ç›®æ˜¯çº¯é™æ€ç«™ç‚¹ï¼Œä½¿ç”¨ Nginx æ‰˜ç®¡å³å¯ï¼Œä¸éœ€è¦ PM2ã€‚ä»…åœ¨æœ‰ç‰¹æ®Šéœ€æ±‚æ—¶ä½¿ç”¨æ­¤æ–¹å¼ã€‚

#### 1. å®‰è£…å¹¶é…ç½® PM2

```bash
cd /www/wwwroot/chunxia-legion

# å®‰è£…ä¾èµ–
npm install

# ä½¿ç”¨ PM2 å¯åŠ¨ Vite é¢„è§ˆæœåŠ¡å™¨
pm2 start npm --name "chunxia-legion" -- run preview

# ä¿å­˜ PM2 é…ç½®
pm2 save

# è®¾ç½®å¼€æœºè‡ªå¯
pm2 startup
```

#### 2. é…ç½® Nginx åå‘ä»£ç†

åœ¨å®å¡”é¢æ¿çš„ç«™ç‚¹è®¾ç½® â†’ ã€Œåå‘ä»£ç†ã€ä¸­æ·»åŠ ï¼š

- ä»£ç†åç§°ï¼šchunxia-legion
- ç›®æ ‡ URLï¼š`http://127.0.0.1:4173`
- å‘é€åŸŸåï¼š`$host`

### ğŸ”„ æ›´æ–°éƒ¨ç½²

å½“ä»£ç æ›´æ–°åï¼Œé‡æ–°éƒ¨ç½²ï¼š

```bash
cd /www/wwwroot/chunxia-legion

# æ‹‰å–æœ€æ–°ä»£ç 
git pull

# å®‰è£…æ–°ä¾èµ–ï¼ˆå¦‚æœæœ‰ï¼‰
npm install

# é‡æ–°æ„å»º
npm run build

# å¦‚æœæ˜¯é™æ€éƒ¨ç½²ï¼Œåˆ°æ­¤ç»“æŸ
# å¦‚æœæ˜¯ PM2 æ–¹å¼ï¼Œéœ€è¦é‡å¯
pm2 restart chunxia-legion
```

### âš ï¸ å¸¸è§é—®é¢˜

#### 1. npm install å¤±è´¥

**åŸå› **ï¼šç½‘ç»œé—®é¢˜æˆ–ä¾èµ–å†²çª

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# ä½¿ç”¨å›½å†…é•œåƒ
npm config set registry https://registry.npmmirror.com

# æ¸…ç†ç¼“å­˜é‡è¯•
npm cache clean --force
rm -rf node_modules package-lock.json
npm install
```

#### 2. æ„å»ºåé¡µé¢ç©ºç™½

**åŸå› **ï¼šè·¯ç”±é…ç½®æˆ–èµ„æºè·¯å¾„é—®é¢˜

**è§£å†³æ–¹æ¡ˆ**ï¼š
- ç¡®è®¤ Nginx å·²é…ç½® `try_files` è§„åˆ™
- æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰æŠ¥é”™
- ç¡®è®¤ `dist` ç›®å½•ä¸‹æ–‡ä»¶å®Œæ•´

#### 3. åˆ·æ–°é¡µé¢ 404

**åŸå› **ï¼šNginx æœªé…ç½® SPA è·¯ç”±è§„åˆ™

**è§£å†³æ–¹æ¡ˆ**ï¼š
åœ¨ç«™ç‚¹ä¼ªé™æ€ä¸­æ·»åŠ ï¼š
```nginx
location / {
    try_files $uri $uri/ /index.html;
}
```

#### 4. å›¾ç‰‡ä¸Šä¼ ååˆ·æ–°æ¶ˆå¤±

**åŸå› **ï¼šlocalStorage æ•°æ®å­˜å‚¨åœ¨æµè§ˆå™¨ç«¯

**è¯´æ˜**ï¼š
- ç›®å‰å›¾ç‰‡å­˜å‚¨åœ¨ localStorageï¼ˆæµè§ˆå™¨æœ¬åœ°å­˜å‚¨ï¼‰
- ä¸åŒè®¾å¤‡æˆ–æµè§ˆå™¨ä¹‹é—´æ•°æ®ä¸å…±äº«
- å¦‚éœ€å¤šç«¯åŒæ­¥ï¼Œéœ€è¦å¯¹æ¥åç«¯ API

## ğŸ“ é¡¹ç›®ç»“æ„

```
chunxia-legion/
â”œâ”€â”€ public/                 # é™æ€èµ„æº
â”‚   â”œâ”€â”€ images/            # å›¾ç‰‡èµ„æº
â”‚   â”‚   â”œâ”€â”€ hero-bg.png   # é¦–é¡µèƒŒæ™¯
â”‚   â”‚   â””â”€â”€ legion-logo.jpg # å†›å›¢å¾½ç« 
â”‚   â””â”€â”€ data/              # æˆå‘˜æ•°æ®
â”‚       â”œâ”€â”€ members.json   # æˆå‘˜é…ç½®
â”‚       â””â”€â”€ [è§’è‰²ID]/
â”‚           â””â”€â”€ character_info.json  # è§’è‰²è¯¦æƒ…
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/        # ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Header.tsx/css        # å¯¼èˆªæ 
â”‚   â”‚   â”œâ”€â”€ Hero.tsx/css          # é¦–é¡µè‹±é›„åŒº
â”‚   â”‚   â”œâ”€â”€ Footer.tsx/css        # é¡µè„š
â”‚   â”‚   â””â”€â”€ admin/                # ç®¡ç†åå°ç»„ä»¶
â”‚   â”‚       â”œâ”€â”€ AdminPanel.tsx/css
â”‚   â”‚       â””â”€â”€ GalleryManager.tsx/css
â”‚   â”œâ”€â”€ pages/             # é¡µé¢
â”‚   â”‚   â”œâ”€â”€ HomePage.tsx/css      # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ LegionPage.tsx/css    # å†›å›¢é¡µé¢
â”‚   â”‚   â””â”€â”€ MemberDetailPage.tsx/css # æˆå‘˜è¯¦æƒ…
â”‚   â”œâ”€â”€ data/              # æ•°æ®ç±»å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ memberTypes.ts # æˆå‘˜ç±»å‹
â”‚   â”œâ”€â”€ App.tsx            # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ main.tsx           # å…¥å£æ–‡ä»¶
â”‚   â””â”€â”€ index.css          # å…¨å±€æ ·å¼
â”œâ”€â”€ vite.config.ts         # Vite é…ç½®
â”œâ”€â”€ tsconfig.json          # TypeScript é…ç½®
â””â”€â”€ package.json           # é¡¹ç›®ä¾èµ–
```

## ğŸ¨ ä¸»é¢˜é…ç½®

ä¸»é¢˜è‰²ç³»ç»Ÿä½¿ç”¨ CSS å˜é‡å®šä¹‰åœ¨ [src/index.css](src/index.css:6-10) ä¸­ï¼š

```css
:root {
  /* ä¸»è‰²è°ƒ - æ·¡é›…å¤©æ—è“ */
  --color-primary: #6b9fd8;
  --color-primary-light: #8fb9e5;
  --color-primary-dark: #4a7db3;
}
```

å¦‚éœ€ä¿®æ”¹ä¸»é¢˜è‰²ï¼Œç¼–è¾‘è¿™äº›å˜é‡å³å¯å…¨å±€ç”Ÿæ•ˆã€‚

## ğŸ‘¥ æ•°æ®ç®¡ç†

### æ·»åŠ æ–°æˆå‘˜

1. åœ¨ `/public/data/members.json` ä¸­æ·»åŠ æˆå‘˜é…ç½®ï¼š

```json
{
  "id": "è§’è‰²ID",
  "role": "leader|elite|member",
  "joinDate": "2024-12-01"
}
```

2. åˆ›å»ºè§’è‰²æ•°æ®æ–‡ä»¶ `/public/data/[è§’è‰²ID]/character_info.json`ï¼š

```json
{
  "profile": {
    "characterName": "è§’è‰²å",
    "className": "èŒä¸šå",
    "characterLevel": 60,
    "profileImage": "https://..."
  }
}
```

### ç›¸å†Œç®¡ç†

- **ç”¨æˆ·ä¸Šä¼ **ï¼šè®¿é—®ã€Œå†›å›¢é¡µé¢ã€â†’ã€Œå†›å›¢ç›¸å†Œã€â†’ã€Œä¸Šä¼ å›¾ç‰‡ã€
- **ç®¡ç†å®¡æ ¸**ï¼šè®¿é—®ç®¡ç†åå°ï¼ˆç‚¹å‡»å³ä¸Šè§’ Adminï¼‰â†’ã€Œç›¸å†Œç®¡ç†ã€
- **é¦–é¡µå±•ç¤º**ï¼šå®¡æ ¸é€šè¿‡åï¼Œå¯æ ‡è®°ä¸ºã€Œé¦–é¡µå±•ç¤ºã€ï¼Œå°†åœ¨é¦–é¡µã€Œæˆå‘˜é£é‡‡ã€åŒºåŸŸæ˜¾ç¤º

## ğŸ” ç®¡ç†å‘˜ç™»å½•

é»˜è®¤å¯†ç ï¼š`chunxia2024`

ä¿®æ”¹å¯†ç ä½ç½®ï¼š[src/components/Header.tsx](src/components/Header.tsx:31)

```typescript
const ADMIN_PASSWORD = 'chunxia2024'; // ä¿®æ”¹æ­¤å¤„
```

## ğŸ“„ è®¸å¯è¯

MIT License

---

**æ¤¿å¤å†›å›¢** - æ„¿å¦‚æ¤¿æ ‘å¸¸é’ï¼Œå…±åº¦ç››å¤æ—¶å…‰ ğŸŒ³â˜€ï¸
